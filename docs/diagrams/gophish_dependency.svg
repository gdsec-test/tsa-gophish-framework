<svg id="mermaid-1620943657482" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="520" style="max-width: 1349.046875px;" viewBox="0 0 1349.046875 520"><style>#mermaid-1620943657482{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-1620943657482 .error-icon{fill:#552222;}#mermaid-1620943657482 .error-text{fill:#552222;stroke:#552222;}#mermaid-1620943657482 .edge-thickness-normal{stroke-width:2px;}#mermaid-1620943657482 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1620943657482 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1620943657482 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1620943657482 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1620943657482 .marker{fill:#333333;stroke:#333333;}#mermaid-1620943657482 .marker.cross{stroke:#333333;}#mermaid-1620943657482 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-1620943657482 .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-1620943657482 .cluster-label text{fill:#333;}#mermaid-1620943657482 .cluster-label span{color:#333;}#mermaid-1620943657482 .label text,#mermaid-1620943657482 span{fill:#333;color:#333;}#mermaid-1620943657482 .node rect,#mermaid-1620943657482 .node circle,#mermaid-1620943657482 .node ellipse,#mermaid-1620943657482 .node polygon,#mermaid-1620943657482 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-1620943657482 .node .label{text-align:center;}#mermaid-1620943657482 .node.clickable{cursor:pointer;}#mermaid-1620943657482 .arrowheadPath{fill:#333333;}#mermaid-1620943657482 .edgePath .path{stroke:#333333;stroke-width:1.5px;}#mermaid-1620943657482 .flowchart-link{stroke:#333333;fill:none;}#mermaid-1620943657482 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-1620943657482 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-1620943657482 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-1620943657482 .cluster text{fill:#333;}#mermaid-1620943657482 .cluster span{color:#333;}#mermaid-1620943657482 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80,100%,96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-1620943657482:root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-1620943657482 flowchart{fill:apa;}</style><g><g class="output"><g class="clusters"></g><g class="edgePaths"><g class="edgePath LS-StatusLambda LE-SSO" id="L-StatusLambda-SSO" style="opacity: 1;"><path class="path" d="M1139.6015625,98.5L1099.0403645833333,98.41666666666667C1058.4791666666667,98.33333333333333,977.3567708333334,98.16666666666667,895.8346354166666,98.08333333333333C814.3125,98,732.390625,98,691.4296875,98L650.46875,98" marker-end="url(#arrowhead20)" style="fill:none"></path><defs><marker id="arrowhead20" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-GophishAdmin LE-Outlook365" id="L-GophishAdmin-Outlook365" style="opacity: 1;"><path class="path" d="M1129.5232785418236,317.1721929163527L1090.6417946181864,307.6434940969606C1051.7603106945492,298.1147952775685,973.9973428472746,279.05739763878427,878.7799214236373,269.5286988193921C783.5625,260,670.890625,260,571.2578125,260C471.625,260,385.03125,260,318.0026041666667,268.8823869174398C250.97395833333334,277.76477383487963,203.51041666666666,295.5295476697592,179.77864583333334,304.411934587199L156.046875,313.29432150463884" marker-end="url(#arrowhead21)" style="fill:none"></path><defs><marker id="arrowhead21" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-GophishAdmin LE-SMTPProxy" id="L-GophishAdmin-SMTPProxy" style="opacity: 1;"><path class="path" d="M1129.5232785418236,365.8278070836473L1090.6417946181864,375.1898392363728C1051.7603106945492,384.55187138909815,973.9973428472746,403.2759356945491,894.1549214236373,412.6379678472745C814.3125,422,732.390625,422,691.4296875,422L650.46875,422" marker-end="url(#arrowhead22)" style="fill:none"></path><defs><marker id="arrowhead22" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-SMTPProxy LE-Outlook365" id="L-SMTPProxy-Outlook365" style="opacity: 1;"><path class="path" d="M465.96875,422L438.046875,422C410.125,422,354.28125,422,302.6276041666667,413.1176130825602C250.97395833333334,404.23522616512037,203.51041666666666,386.47045233024073,179.77864583333334,377.588065412801L156.046875,368.70567849536116" marker-end="url(#arrowhead23)" style="fill:none"></path><defs><marker id="arrowhead23" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(896.234375,98)" style="opacity: 1;"><g transform="translate(-195.625,-90)" class="label"><rect rx="0" ry="0" width="391.25" height="180"></rect><foreignObject width="391.25" height="180"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-StatusLambda-SSO" class="edgeLabel L-LS-StatusLambda' L-LE-SSO">Verify JWT<br/>Type: SYNC<br/>
            Routing: SERVER_TO_SERVER_DIRECT_CONNECT<br/>
            Resiliency: DEGRADE_TO_CACHE&gt;FAIL<br/>RPS: &lt;10<br/>Burst: 100X<br/>
            Consumers/Day: 1Ks<br/>TLS: YES<br/>Authentication: JWT_USER<br/>
            Authorization: IP_RESTRICTION</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(558.21875,260)" style="opacity: 1;"><g transform="translate(-117.390625,-90)" class="label"><rect rx="0" ry="0" width="234.78125" height="180"></rect><foreignObject width="234.78125" height="180"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-GophishAdmin-Outlook365" class="edgeLabel L-LS-GophishAdmin' L-LE-Outlook365">Send phishing email (external)<br/>Type: ASYNC<br/>
            Routing: SERVER_TO_SERVER<br/>
            Resiliency: BUFFER&gt;FAIL<br/>RPS: &lt;1<br/>Burst: 1000X<br/>
            Consumers/Day: 1s<br/>TLS: YES<br/>Authentication: SMTP_AUTH<br/>
            Authorization: RBAC</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(896.234375,422)" style="opacity: 1;"><g transform="translate(-195.625,-90)" class="label"><rect rx="0" ry="0" width="391.25" height="180"></rect><foreignObject width="391.25" height="180"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-GophishAdmin-SMTPProxy" class="edgeLabel L-LS-GophishAdmin' L-LE-SMTPProxy">Send phishing email (internal)<br/>Type: ASYNC<br/>
            Routing: SERVER_TO_SERVER_DIRECT_CONNECT<br/>
            Resiliency: BUFFER&gt;FAIL<br/>RPS: &lt;1<br/>Burst: 1000X<br/>
            Consumers/Day: 1s<br/>TLS: YES<br/>Authentication: SMTP_AUTH<br/>
            Authorization: RBAC</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(298.4375,422)" style="opacity: 1;"><g transform="translate(-117.390625,-90)" class="label"><rect rx="0" ry="0" width="234.78125" height="180"></rect><foreignObject width="234.78125" height="180"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-SMTPProxy-Outlook365" class="edgeLabel L-LS-SMTPProxy' L-LE-Outlook365">Send phishing email (internal)<br/>Type: ASYNC<br/>
            Routing: SERVER_TO_SERVER<br/>
            Resiliency: BUFFER&gt;FAIL<br/>RPS: &lt;1<br/>Burst: 1000X<br/>
            Consumers/Day: 1s<br/>TLS: YES<br/>Authentication: SMTP_AUTH<br/>
            Authorization: RBAC</span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="flowchart-StatusLambda-8" transform="translate(1228.953125,98)" style="opacity: 1;"><polygon points="18.5,0 161.203125,0 179.703125,-37 161.203125,-74 18.5,-74 0,-37" transform="translate(-89.8515625,37)" class="label-container"></polygon><g class="label" transform="translate(0,0)"><g transform="translate(-61.3515625,-27)"><foreignObject width="122.703125" height="54"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Status Lambda<br/>TIER_4<br/>PUBLIC_CLOUD</div></foreignObject></g></g></g><g class="node default" id="flowchart-SSO-9" transform="translate(558.21875,98)" style="opacity: 1;"><rect rx="5" ry="5" x="-92.25" y="-37" width="184.5" height="74" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-82.25,-27)"><foreignObject width="164.5" height="54"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">SSO<br/>Tier: TIER_0<br/>Hosted: ON_PREMISE</div></foreignObject></g></g></g><g class="node default" id="flowchart-GophishAdmin-10" transform="translate(1228.953125,341)" style="opacity: 1;"><polygon points="18.5,0 205.6875,0 224.1875,-37 205.6875,-74 18.5,-74 0,-37" transform="translate(-112.09375,37)" class="label-container"></polygon><g class="label" transform="translate(0,0)"><g transform="translate(-83.59375,-27)"><foreignObject width="167.1875" height="54"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Gophish Admin Service<br/>TIER_4<br/>PUBLIC_CLOUD</div></foreignObject></g></g></g><g class="node default" id="flowchart-Outlook365-11" transform="translate(82.0234375,341)" style="opacity: 1;"><rect rx="5" ry="5" x="-74.0234375" y="-37" width="148.046875" height="74" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-64.0234375,-27)"><foreignObject width="128.046875" height="54"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Outlook 365<br/>Tier: TIER_0<br/>Hosted: VENDOR</div></foreignObject></g></g></g><g class="node default" id="flowchart-SMTPProxy-13" transform="translate(558.21875,422)" style="opacity: 1;"><rect rx="5" ry="5" x="-92.25" y="-37" width="184.5" height="74" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-82.25,-27)"><foreignObject width="164.5" height="54"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">SMTP Proxy<br/>Tier: TIER_4<br/>Hosted: ON_PREMISE</div></foreignObject></g></g></g></g></g></g></svg>
